import{o as i,c as d,b as s,d as a,w as n,v as l,e as u}from"./index.ae152aa8.js";import{a as p}from"./axios.f257fe29.js";const m=s("br",null,null,-1),w=s("br",null,null,-1),b=s("button",{type:"submit"},"Login",-1),g={data(){return{username:"",password:""}},methods:{async login(){try{const e=(await p.post("/api/users/login",{username:this.username,password:this.password})).data.jwt;localStorage.setItem("jwt",e),this.$router.push("/dashboard")}catch(t){console.error(t),this.errorMessage="Invalid email or password"}}}},c=Object.assign(g,{__name:"LoginView",setup(t){return(e,o)=>(i(),d("div",null,[s("form",{onSubmit:o[2]||(o[2]=u((...r)=>e.login&&e.login(...r),["prevent"]))},[s("label",null,[a(" Username: "),n(s("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e.email=r),type:"username",required:""},null,512),[[l,e.email]])]),m,s("label",null,[a(" Password: "),n(s("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>e.password=r),type:"password",required:""},null,512),[[l,e.password]])]),w,b],32)]))}});export{c as default};
