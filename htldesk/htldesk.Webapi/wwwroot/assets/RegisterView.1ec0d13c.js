import{_ as u,d as m,o as g,c as f,b as r,w as y,F as p,e as _}from"./index.b2358c5d.js";function w(){const t=document.getElementById("username"),s=document.getElementById("email"),n=document.getElementById("password"),i=document.getElementById("password2"),o=document.querySelectorAll(".error");document.getElementById("success"),document.querySelector("#eye_icon"),d();let e=!1;t.value.length<3&&(o[0].innerText="Username must be at least 3 characters long",t.classList.add("error-border"),e=!0),l(s.value)||(o[1].innerText="Email is not valid",s.classList.add("error-border"),e=!0),n.value.length<4&&(o[2].innerText="Password must be at least 4 characters long",n.classList.add("error-border"),e=!0),i.value!==n.value&&(o[3].innerText="Passwords do not match",i.classList.add("error-border"),e=!0);function l(a){return/\S+@\S+\.\S+/.test(a)}function d(){o.forEach(a=>{a.innerText=""}),document.querySelectorAll(".error-border").forEach(a=>{a.classList.remove("error-border")})}return!e}const h={data(){return{email:"",username:"",password:"",passwordConfirmation:""}},methods:{async register(){if(!!w())try{console.log(document.getElementById("email").value);const t=(await m.post("users/register",{email:document.getElementById("email").value,username:document.getElementById("username").value,password:document.getElementById("password").value})).data;console.log(t),this.$router.push("/login")}catch(t){console.error(t),this.errorMessage="Error creating user"}},togglePasswordVisibility:function(){const t=arguments[0],s=arguments[1],n=t.getAttribute("type")==="password"?"text":"password";t.setAttribute("type",n),s.classList.toggle("fa-eye-slash")},validateForm(){const t=document.getElementById("username"),s=document.getElementById("email"),n=document.getElementById("password"),i=document.getElementById("password2"),o=document.querySelectorAll(".error");document.getElementById("success"),document.querySelector("#eye_icon"),d();let e=!1;t.value.length<3&&(o[0].innerText="Username must be at least 3 characters long",t.classList.add("error-border"),e=!0),l(s.value)||(o[1].innerText="Email is not valid",s.classList.add("error-border"),e=!0),n.value.length<4&&(o[2].innerText="Password must be at least 4 characters long",n.classList.add("error-border"),e=!0),i.value!==n.value&&(o[3].innerText="Passwords do not match",i.classList.add("error-border"),e=!0);function l(a){return/\S+@\S+\.\S+/.test(a)}function d(){o.forEach(a=>{a.innerText=""}),document.querySelectorAll(".error-border").forEach(a=>{a.classList.remove("error-border")})}return!e}}},b=r("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"},null,-1),v={class:"register"},E=r("h1",{id:"reg_form"},"Registration Form",-1),x=_('<label for="username">Username:</label><input type="text" id="username" name="username"><br><small class="error"></small><hr><label for="email">Email:</label><input type="text" id="email" name="email"><br><small class="error"></small><hr><label for="password">Password:</label>',11),B={id:"password-container"},I={type:"password",id:"password",ref:"password",name:"password"},S=r("br",null,null,-1),L=r("small",{class:"error"},null,-1),T=r("hr",null,null,-1),P=r("label",{for:"password2"},"Confirm Password:",-1),F={type:"password",id:"password2",ref:"password2",name:"password2"},V=r("br",null,null,-1),k=r("small",{class:"error"},null,-1),q=r("hr",null,null,-1),A=r("p",{id:"success"},null,-1);function C(t,s,n,i,o,e){return g(),f(p,null,[b,r("div",v,[E,r("form",{onSubmit:s[3]||(s[3]=y((...l)=>e.register&&e.register(...l),["prevent"]))},[x,r("div",B,[r("input",I,null,512),r("i",{class:"fa fa-eye eye-icon",id:"eye_icon",ref:"eye_icon",onClick:s[0]||(s[0]=l=>e.togglePasswordVisibility(this.$refs.password,this.$refs.eye_icon))},null,512)]),S,L,T,P,r("input",F,null,512),r("i",{class:"fa fa-eye eye-icon",id:"eye_icon2",ref:"eye_icon2",onClick:s[1]||(s[1]=l=>e.togglePasswordVisibility(this.$refs.password2,this.$refs.eye_icon2))},null,512),V,k,q,r("input",{type:"submit",value:"Submit",onClick:s[2]||(s[2]=(...l)=>e.register&&e.register(...l))}),A],32)])],64)}const N=u(h,[["render",C]]);export{N as default};
